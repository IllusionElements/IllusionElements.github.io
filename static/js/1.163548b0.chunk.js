(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{409:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(410);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},410:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},414:function(e,t,n){"use strict";n.r(t);n(409);function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=n(0),s=n.n(a),c=n(415),u=n(50),o=n(21),i=n(20),l=Object(i.withStyles)(function(e){return{progress:{margin:2*e.spacing.unit}}})(function(e){var t=e.classes;return s.a.createElement(o.d,{item:!0},s.a.createElement(o.b,{className:t.progress}))}),f=n(96),m=n.n(f);function g(){var e,t,n=(e=["\n  query GetMessages($message: MessageParams!) {\n    userMessages(params: $message) {\n      offset\n      user {\n        username\n        picture\n      }\n      messages {\n        _id\n        date\n        type\n        text\n      }\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return g=function(){return n},n}n.d(t,"SendMessage",function(){return v});var b=m()(g()),p=Object(a.lazy)(function(){return n.e(2).then(n.bind(null,412))}),d=function(e){var t={message:{limit:20,userId:e.match.params.id}};return s.a.createElement(u.Query,{query:b,variables:t},function(e){var t=e.loading,n=(e.data,e.data),a=(n=void 0===n?{}:n).userMessages,c=e.fetchMore,u=e.error;if(t)return s.a.createElement(l,null);if(u)return console.error(u),s.a.createElement("h1",null,u.message);var i=a.user,f=i.username,m=i.picture,g=a.offset,d=a.messages;return console.log(g),s.a.createElement(o.d,{direction:"column",spacing:32,alignItems:"center",container:!0},s.a.createElement(s.a.Suspense,{fallback:s.a.createElement(l,null)},s.a.createElement(o.d,{item:!0},s.a.createElement(o.l,{variant:"h3"},"".concat(f,"'s Messages"))),s.a.createElement(o.d,{item:!0},m&&s.a.createElement("img",{src:m,alt:f})),s.a.createElement(o.d,{item:!0},s.a.createElement(p,{messages:d})),s.a.createElement(o.a,{onClick:function(){var e={limit:20,userId:new URL(window.location.href).pathname.replace(/\/messages\//,""),offset:g};return c({variables:{message:e},query:b,updateQuery:function(e,t){var n=t.fetchMoreResult;return n?(console.log({fetchMoreResult:n}),{userMessages:Object.assign({},e.userMessages,{offset:n.userMessages.offset,messages:r(e.userMessages.messages).concat(r(n.userMessages.messages))})}):e}})}},"More")))})},y=(t.default=function(){return s.a.createElement(c.a,{path:"/messages/:id"},d)},Object(a.lazy)(function(){return Promise.resolve().then(n.bind(null,266))})),v=function(){return s.a.createElement(a.Suspense,{fallback:s.a.createElement(l,null)},s.a.createElement(y,null))}}}]);
//# sourceMappingURL=1.163548b0.chunk.js.map